var z=Object.defineProperty,G=Object.defineProperties;var K=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var Q=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var O=(t,e,o)=>e in t?z(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,T=(t,e)=>{for(var o in e||(e={}))Q.call(e,o)&&O(t,o,e[o]);if(C)for(var o of C(e))X.call(e,o)&&O(t,o,e[o]);return t},A=(t,e)=>G(t,K(e));import{R as w,d as L,m as Y,b as a,o as p,c as M,e as s,f as n,q as h,s as m,v as f,g as r,t as Z,x as g,y as I,A as ee,B as te,r as oe,C as ne,w as se,D as ae,E as re,F as R,G as E,H as le,I as F,J as ce}from"./vendor.8524c068.js";import{P as v}from"./index.acb3670d.js";import{_ as de}from"./plugin-vue_export-helper.5a098b48.js";import{W as u,a as ue}from"./index.9a374fd4.js";const ie=g("Header"),_e={class:"switch-mode"},pe=g("Footer"),he=[{label:()=>I(w,{to:"/home/calendar"},{default:()=>"\u65E5\u5386"}),key:"calendar"},{label:()=>I(w,{to:"/home/customerService"},{default:()=>"\u5BA2\u670D"}),key:"customerService"}],me=T({},w.props),fe=L({props:{mode:null},emits:["onToggleMode"],setup(t,{emit:e}){Y(me);const o=v.globalThemeMode,c=()=>e("onToggleMode",!0),i=()=>e("onToggleMode",!1);return(y,N)=>{const _=a("n-h5"),x=a("n-layout-header"),D=a("n-menu"),b=a("n-layout-sider"),d=a("n-layout"),k=a("n-layout-footer");return p(),M(d,{class:"layout-container"},{default:s(()=>[n(x,{class:"layout-header",bordered:""},{default:s(()=>[n(_,null,{default:s(()=>[ie]),_:1}),h("div",_e,[m(h("span",{onClick:c},"Dark",512),[[f,!r(o)]]),m(h("span",{onClick:i},"Light",512),[[f,r(o)]])])]),_:1}),n(d,{class:"layout-side",position:"absolute","has-sider":""},{default:s(()=>[n(b,{"collapse-mode":"width","collapsed-width":0,width:240,"show-trigger":"bar","content-style":"padding: 24px;","native-scrollbar":!1,"show-collapsed-content":!1,bordered:""},{default:s(()=>[n(D,{inverted:y.inverted,"collapsed-width":64,"collapsed-icon-size":22,options:he},null,8,["inverted"])]),_:1}),n(d,{"content-style":"padding: 24px;","native-scrollbar":!1},{default:s(()=>[Z(y.$slots,"title",{},void 0,!0)]),_:3})]),_:3}),n(k,{class:"layout-footer",position:"absolute",bordered:""},{default:s(()=>[n(_,null,{default:s(()=>[pe]),_:1})]),_:1})]),_:3})}}});var ge=de(fe,[["__scopeId","data-v-15d7080e"]]);const ve=ee({baseUrl:`${u.DOMAIN}`,options:{beforeFetch({options:t}){return t.headers=A(T({},t.headers),{app_id:u.APP_ID,app_secret:u.APP_SECRET,"Content-Type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":"*"}),{options:t}},afterFetch(t){return t}},fetchOptions:{mode:"cors"}}),ye=t=>t+`&app_id=${u.APP_ID}&app_secret=${u.APP_SECRET}`,be=(t=0)=>ye(`history/today?type=${t}`),j=()=>{let t=URL.createObjectURL(new Blob),e=t.toString();return URL.revokeObjectURL(t),e.substr(e.lastIndexOf("/")+1)},Pe=L({setup(t){const{data:e}=ve(be(1)).get(),o=te(),c=oe(!0),i=ne({historyData:[]});se(()=>{if(!(e==null?void 0:e.value))return;const{data:l}=JSON.parse(e==null?void 0:e.value);l.forEach(P=>P.key=j()),i.historyData=l,console.log(l)}),ae(o,({name:l})=>{c.value=l==="Home"});const{status:y,data:N,send:_,open:x,close:D}=re(ue.NOTIFICATION),b=v.globalToken.value,d={action:"auth",token:b};_(JSON.stringify(d));const k=R(v.ToggleThemeMode),B=R(v.ThemeMode);return(l,P)=>{const $=a("n-text"),U=a("n-gradient-text"),H=a("n-blockquote"),W=a("n-collapse-transition"),q=a("n-divider"),J=a("n-space"),V=a("router-view");return p(),M(r(ge),{onOnToggleMode:r(k),mode:r(B)},{title:s(()=>[m(h("div",null,[n(J,{vertical:""},{default:s(()=>[(p(!0),E(ce,null,le(r(i).historyData,S=>(p(),E("div",{key:r(j)()},[n(U,{size:24,type:"warning"},{default:s(()=>[n($,{depth:"3",strong:"",type:"success"},{default:s(()=>[g(F(`\u201C ${S.title} \u201D`),1)]),_:2},1024)]),_:2},1024),n(W,{show:!0,appear:""},{default:s(()=>[n(H,null,{default:s(()=>[g(F(S.details),1)]),_:2},1024)]),_:2},1024),n(q)]))),128))]),_:1})],512),[[f,c.value]]),m(n(V,null,null,512),[[f,!c.value]])]),_:1},8,["onOnToggleMode","mode"])}}});export{Pe as default};
