import{u as m,b as k,r as T,c as j}from"./utils.93568f2b.js";import{_ as B}from"./plugin-vue_export-helper.5a098b48.js";import{d as C,A as E,r as u,w as I,S as A,b as _,o as s,D as d,f as D,e as n,q as a,F as y,E as v,g as w,c as f,x as g,G as p}from"./vendor.4c343100.js";import"./index.c9a0e872.js";const F={class:"masonry"},V=["src"],S={class:"news-bottom"},q=g(" \u67E5\u770B\u8BE6\u60C5"),G=C({setup(M){const h=m(k()).get().json(),o=E({newsTypes:[],newsList:[]}),i=u(""),x=u(""),N=u(1);I(()=>{const{data:t}=h;if(!t.value)return;const{data:c}=t.value;o.newsTypes=c});const b=async t=>{x.value=t;const{execute:c,data:l}=m(j(t,N.value),{immediate:!1}).get().json();await c();const{data:r}=l.value;o.newsList=r,console.log(r)};return A(()=>{i.value=T()}),(t,c)=>{const l=_("n-button"),r=_("n-space"),L=_("n-card");return s(),d("div",null,[D(r,null,{default:n(()=>[(s(!0),d(y,null,v(w(o).newsTypes,e=>(s(),f(l,{key:e.typeId,type:i.value,onClick:P=>b(e.typeId)},{default:n(()=>[g(p(e.typeName),1)]),_:2},1032,["type","onClick"]))),128))]),_:1}),a("div",F,[(s(!0),d(y,null,v(w(o).newsList,e=>(s(),f(L,{key:e.newsId,title:e.title,embedded:"",class:"item"},{cover:n(()=>[a("img",{src:Array.isArray(e.imgList)&&e.imgList.length>0?e.imgList[0]:""},null,8,V)]),footer:n(()=>[a("div",S,[a("span",null,p(e.source),1),a("span",null,p(e.postTime),1)])]),action:n(()=>[q]),_:2},1032,["title"]))),128))])])}}});var K=B(G,[["__scopeId","data-v-4655dd37"]]);export{K as default};
