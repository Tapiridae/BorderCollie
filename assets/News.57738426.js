import{u as h,b as H,r as M,c as S,d as $}from"./utils.62048447.js";import{_ as q}from"./plugin-vue_export-helper.5a098b48.js";import{d as G,A as P,r as p,w as U,S as z,b as o,o as d,D as v,f as n,e as t,q as i,F as b,E as x,g as l,c as f,H as J,x as y,G as m}from"./vendor.4c343100.js";import"./index.c9a0e872.js";const K=y(" ``` "),O={class:"masonry"},Q=["src"],R={class:"news-bottom"},W=["onClick"],X=["innerHTML"],Y=G({setup(Z){const L=h(H()).get().json(),s=P({newsTypes:[],newsList:[],details:{}}),w=p(""),C=p(""),T=p(1),j=p(""),g=p(!1);U(()=>{const{data:a}=L;if(!a.value)return;const{data:c}=a.value;s.newsTypes=c});const I=async a=>{C.value=a;const{execute:c,data:u}=h(S(a,T.value),{immediate:!1}).get().json();await c();const{data:r}=u.value;s.newsList=r},B=async a=>{j.value=a;const{execute:c,data:u}=h($(a),{immediate:!1}).get().json();await c();const{data:r}=u.value;s.details=r,g.value=!0};return z(()=>{w.value=M()}),(a,c)=>{const u=o("n-button"),r=o("n-space"),D=o("n-card"),N=o("n-image"),k=o("n-tag"),E=o("n-image-group"),V=o("n-scrollbar"),A=o("n-drawer-content"),F=o("n-drawer");return d(),v("div",null,[K,n(r,null,{default:t(()=>[(d(!0),v(b,null,x(l(s).newsTypes,e=>(d(),f(u,{key:e.typeId,type:w.value,onClick:_=>I(e.typeId)},{default:t(()=>[y(m(e.typeName),1)]),_:2},1032,["type","onClick"]))),128))]),_:1}),i("div",O,[(d(!0),v(b,null,x(l(s).newsList,e=>(d(),f(D,{key:e.newsId,title:e.title,embedded:"",class:"item"},{cover:t(()=>[i("img",{src:Array.isArray(e.imgList)&&e.imgList.length>0?e.imgList[0]:""},null,8,Q)]),footer:t(()=>[i("div",R,[i("span",null,m(e.source),1),i("span",null,m(e.postTime),1)])]),action:t(()=>[i("div",{class:"preview",onClick:_=>B(e.newsId)},"\u67E5\u770B\u8BE6\u60C5",8,W)]),_:2},1032,["title"]))),128))]),l(s).details?(d(),f(F,{key:0,show:g.value,"onUpdate:show":c[0]||(c[0]=e=>g.value=e),width:502,placement:"right","mask-closable":!1},{default:t(()=>[n(A,{title:l(s).details.title,style:{overflow:"hidden"},closable:""},{default:t(()=>[n(V,{style:{"max-height":"100vh"}},{default:t(()=>{var e;return[n(r,null,{default:t(()=>[n(N,{width:"500",src:l(s).details.cover},null,8,["src"])]),_:1}),n(r,{justify:"space-between"},{default:t(()=>[n(k,{type:w.value},{default:t(()=>[y(m(l(s).details.source),1)]),_:1},8,["type"]),n(k,{type:w.value},{default:t(()=>[y(m(l(s).details.ptime),1)]),_:1},8,["type"])]),_:1}),i("div",{innerHTML:(e=l(s).details)==null?void 0:e.content},null,8,X),n(E,null,{default:t(()=>[n(r,null,{default:t(()=>[(d(!0),v(b,null,x(l(s).details.images,_=>(d(),f(N,{width:"100",src:_==null?void 0:_.imgSrc},null,8,["src"]))),256))]),_:1})]),_:1})]}),_:1})]),_:1},8,["title"])]),_:1},8,["show"])):J("",!0)])}}});var ae=q(Y,[["__scopeId","data-v-7bcb2aff"]]);export{ae as default};
