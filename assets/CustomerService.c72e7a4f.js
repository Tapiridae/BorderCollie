import{d as w,E as C,r as d,F as M,G as y,b as o,o as m,q as f,f as a,e as c,H as b,I as O,c as T,g as h,A as W,J as z,K as v,L as A}from"./vendor.9a3199be.js";class D{static get WSS(){return"wss://beta-chat-ws.keyush.cn/chat_room/"}}const V=W("\u53D1\u9001"),E=w({setup(x){const{status:j,data:g,send:p,open:F,close:G}=C(D.WSS+"535fe8a3d9fb44e0bfc50ebbdb6b4b32"),S={action:"auth",token:"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJrZXl1IiwiaWF0IjoxNjM1NDEwNTI3LCJleHAiOjE2MzU0OTY5MjcsInVpZCI6NDV9.YGG-Yy4mbh1ncIoiF77CkSI8sQIWzo0oGxzk-WANomw"};p(JSON.stringify(S));const n=d(""),i=d(!1),u=M([]),k=z(()=>{if(!n.value)return;const e={action:"sendMessage",text:n.value};p(JSON.stringify(e)),i.value=!0,setTimeout(()=>{i.value=!1,n.value=""},200)},300);return y(g,e=>{if(!e)return;const{text:s,createTimestamp:l,author:{userName:_}}=JSON.parse(e),r={type:"success",title:"Ta",content:s,time:v(A(l),"yyyy-MM-dd hh:mm:ss")};u.push(r)}),y(i,e=>{if(!e)return;const s={type:"info",title:"\u6211",content:n.value,time:v(Date.now(),"yyyy-MM-dd hh:mm:ss")};u.push(s)}),(e,s)=>{const l=o("n-timeline-item"),_=o("n-timeline"),r=o("n-scrollbar"),J=o("n-input"),N=o("n-button"),I=o("n-space");return m(),f(b,null,[a(r,{style:{"max-height":"400px"}},{default:c(()=>[a(_,null,{default:c(()=>[(m(!0),f(b,null,O(h(u),t=>(m(),T(l,{key:t.time,type:t.type,title:t.title,content:t.content,time:t.time},null,8,["type","title","content","time"]))),128))]),_:1})]),_:1}),a(I,{style:{"margin-top":"30px"}},{default:c(()=>[a(J,{style:{width:"500px"},type:"textarea",size:"large",round:"",autosize:{minRows:3},value:n.value,"onUpdate:value":s[0]||(s[0]=t=>n.value=t),placeholder:"\u8BD5\u7740\u804A\u804A\u5929"},null,8,["value"]),a(N,{type:"primary",onClick:h(k)},{default:c(()=>[V]),_:1},8,["onClick"])]),_:1})],64)}}});export{E as default};
