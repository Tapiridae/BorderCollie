import{u as g,b as F,r as H,c as M,d as S}from"./utils.62048447.js";import{_ as $}from"./plugin-vue_export-helper.5a098b48.js";import{d as q,A as G,r as p,w as P,S as U,b as r,o as d,D as v,f as a,e as t,q as i,F as h,E as b,g as o,c as f,H as z,x as N,G as m}from"./vendor.4c343100.js";import"./index.c9a0e872.js";const J={class:"masonry"},K=["src"],O={class:"news-bottom"},Q=["onClick"],R=["innerHTML"],W=q({setup(X){const L=g(F()).get().json(),s=G({newsTypes:[],newsList:[],details:{}}),w=p(""),C=p(""),T=p(1),j=p(""),y=p(!1);P(()=>{const{data:n}=L;if(!n.value)return;const{data:l}=n.value;s.newsTypes=l});const I=async n=>{C.value=n;const{execute:l,data:u}=g(M(n,T.value),{immediate:!1}).get().json();await l();const{data:c}=u.value;s.newsList=c},B=async n=>{j.value=n;const{execute:l,data:u}=g(S(n),{immediate:!1}).get().json();await l();const{data:c}=u.value;s.details=c,y.value=!0};return U(()=>{w.value=H()}),(n,l)=>{const u=r("n-button"),c=r("n-space"),D=r("n-card"),k=r("n-image"),x=r("n-tag"),E=r("n-image-group"),V=r("n-drawer-content"),A=r("n-drawer");return d(),v("div",null,[a(c,null,{default:t(()=>[(d(!0),v(h,null,b(o(s).newsTypes,e=>(d(),f(u,{key:e.typeId,type:w.value,onClick:_=>I(e.typeId)},{default:t(()=>[N(m(e.typeName),1)]),_:2},1032,["type","onClick"]))),128))]),_:1}),i("div",J,[(d(!0),v(h,null,b(o(s).newsList,e=>(d(),f(D,{key:e.newsId,title:e.title,embedded:"",class:"item"},{cover:t(()=>[i("img",{src:Array.isArray(e.imgList)&&e.imgList.length>0?e.imgList[0]:""},null,8,K)]),footer:t(()=>[i("div",O,[i("span",null,m(e.source),1),i("span",null,m(e.postTime),1)])]),action:t(()=>[i("div",{class:"preview",onClick:_=>B(e.newsId)},"\u67E5\u770B\u8BE6\u60C5",8,Q)]),_:2},1032,["title"]))),128))]),o(s).details?(d(),f(A,{key:0,show:y.value,"onUpdate:show":l[0]||(l[0]=e=>y.value=e),width:502,placement:"right","mask-closable":!1},{default:t(()=>[a(V,{title:o(s).details.title,style:{overflow:"hidden"},closable:"","native-scrollbar":!1},{default:t(()=>{var e;return[a(c,null,{default:t(()=>[a(k,{width:"500",src:o(s).details.cover},null,8,["src"])]),_:1}),a(c,{justify:"space-between"},{default:t(()=>[a(x,{type:w.value},{default:t(()=>[N(m(o(s).details.source),1)]),_:1},8,["type"]),a(x,{type:w.value},{default:t(()=>[N(m(o(s).details.ptime),1)]),_:1},8,["type"])]),_:1}),i("div",{innerHTML:(e=o(s).details)==null?void 0:e.content},null,8,R),a(E,null,{default:t(()=>[a(c,null,{default:t(()=>[(d(!0),v(h,null,b(o(s).details.images,_=>(d(),f(k,{width:"100",src:_==null?void 0:_.imgSrc},null,8,["src"]))),256))]),_:1})]),_:1})]}),_:1},8,["title"])]),_:1},8,["show"])):z("",!0)])}}});var se=$(W,[["__scopeId","data-v-14d05303"]]);export{se as default};
