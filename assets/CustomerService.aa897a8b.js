import{d as N,G as M,r as d,H as w,I as y,b as s,o as l,s as f,f as a,e as m,J as h,K as O,c as T,g as v,C as W,L as j,M as b,O as z}from"./vendor.8a092d10.js";import{_ as D}from"./plugin-vue_export-helper.5a098b48.js";class V{static get WSS(){return"wss://beta-chat-ws.keyush.cn/chat_room/"}}const A=W("\u53D1\u9001"),G=N({setup(S){const{status:B,data:g,send:p,open:F,close:L}=M(V.WSS+"535fe8a3d9fb44e0bfc50ebbdb6b4b32"),x={action:"auth",token:"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJrZXl1IiwiaWF0IjoxNjM1NDEwNTI3LCJleHAiOjE2MzU0OTY5MjcsInVpZCI6NDV9.YGG-Yy4mbh1ncIoiF77CkSI8sQIWzo0oGxzk-WANomw"};p(JSON.stringify(x));const t=d(""),c=d(!1),i=w([]),C=e=>t.value=e,I=j(()=>{if(!t.value)return;const e={action:"sendMessage",text:t.value};p(JSON.stringify(e)),c.value=!0,setTimeout(()=>{c.value=!1,t.value=""},200)},300);return y(g,e=>{if(!e)return;const{text:o,createTimestamp:u,author:{userName:_}}=JSON.parse(e),r={type:"success",title:"Ta",content:o,time:b(z(u),"yyyy-MM-dd hh:mm:ss")};i.push(r)}),y(c,e=>{if(!e)return;const o={type:"info",title:"\u6211",content:t.value,time:b(Date.now(),"yyyy-MM-dd hh:mm:ss")};i.push(o)}),(e,o)=>{const u=s("n-timeline-item"),_=s("n-timeline"),r=s("n-input"),k=s("n-button"),J=s("n-space");return l(),f(h,null,[a(_,{class:"time-line-container"},{default:m(()=>[(l(!0),f(h,null,O(v(i),n=>(l(),T(u,{key:n.time,type:n.type,title:n.title,content:n.content,time:n.time},null,8,["type","title","content","time"]))),128))]),_:1}),a(J,null,{default:m(()=>[a(r,{style:{width:"500px"},type:"textarea",size:"large",round:"",autosize:{minRows:3},value:t.value,onInput:C,placeholder:"\u8BD5\u7740\u804A\u804A\u5929"},null,8,["value"]),a(k,{type:"primary",onClick:v(I)},{default:m(()=>[A]),_:1},8,["onClick"])]),_:1})],64)}}});var Y=D(G,[["__scopeId","data-v-ebdbe9da"]]);export{Y as default};
